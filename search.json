[{"path":"https://mjskay.github.io/ggbuilder/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2022 ggbuilder authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://mjskay.github.io/ggbuilder/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Matthew Kay. Author, maintainer.","code":""},{"path":"https://mjskay.github.io/ggbuilder/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Kay M (2022). ggbuilder: Data Flow Pipeline Approach Building ggplot2 Layers. R package version 0.0.0.9000, https://mjskay.github.io/ggbuilder/.","code":"@Manual{,   title = {ggbuilder: A Data Flow Pipeline Approach to Building ggplot2 Layers},   author = {Matthew Kay},   year = {2022},   note = {R package version 0.0.0.9000},   url = {https://mjskay.github.io/ggbuilder/}, }"},{"path":"https://mjskay.github.io/ggbuilder/index.html","id":"ggbuilder-a-pipe-like-approach-to-building-individual-ggplot-layers","dir":"","previous_headings":"","what":"A Data Flow Pipeline Approach to Building ggplot2 Layers","title":"A Data Flow Pipeline Approach to Building ggplot2 Layers","text":"{ggbuilder} experimental alternative approach specifying individual ggplot2 layers. inspired observation made June Choe RStudio::conf 2022 talk: elements layer specification (.e. calls geom_XXX() stat_XXX()) tend written --order compared elements actually executed ggplot2, may make hard reason . {ggbuilder} provides alternative syntax specifying layers mimics familiar data transformation pipelines, attempts put operations order syntactically actually executed.","code":""},{"path":"https://mjskay.github.io/ggbuilder/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"A Data Flow Pipeline Approach to Building ggplot2 Layers","text":"can install development version ggbuilder GitHub :","code":"# install.packages(\"devtools\") devtools::install_github(\"mjskay/ggbuilder\")"},{"path":"https://mjskay.github.io/ggbuilder/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"A Data Flow Pipeline Approach to Building ggplot2 Layers","text":"simple dataset, visuallized using normal ggplot2 syntax:  might try use boxplot instead (though personally probably use something ggdist instead ;) )  translate {ggbuilder}, can start replacing calls form geom_XXX(...) stat_XXX(...) geom_(\"XXX\", ...) stat_(\"XXX\", ...). work just :  works just , except objects created calls geom_() stat_() traditional ggplot2 layers ggbuilder layer specifications, can chained together using pipe: |>. allows us replicate example June Choe’s talk boxplot stat reused label geometry instead normal boxplot geometry. ggplot2, requires using after_stat() reassign y aesthetic stat_boxplot() computation:  requires using ggplot2::stage() ggplot2::after_stat() functions. June Choe pointed ggtrace talk, flow plot data stat transformation geom aesthetics written somewhat --order inside call aes(). ggbuilder, can write data flow order piping stat_() geom_(), specifying aesthetics associated :  hood, {ggbuilder} translates appropriate calls stage() order build geom.","code":"library(ggplot2) library(ggbuilder) library(dplyr) theme_set(theme_light())  set.seed(123456) df = data.frame(condition = c(\"A\", \"B\", \"C\"), response = round(rnorm(30, 1:3), 1)) df |>   ggplot(aes(x = condition, y =  response, color = condition)) +   geom_point() df |>   ggplot(aes(x = condition, y =  response, color = condition)) +   geom_boxplot(size = 0.75) df |>   ggplot(aes(x = condition, y =  response, color = condition)) +   geom_(\"boxplot\", size = 0.75) geom_(\"boxplot\", size = 0.75) #> <ggbuilder::layer>: #> mapping:   #> geom_boxplot: outlier.colour = NULL, outlier.fill = NULL, outlier.shape = 19, outlier.size = 1.5, outlier.stroke = 0.5, outlier.alpha = NULL, notch = FALSE, notchwidth = 0.5, varwidth = FALSE, na.rm = FALSE, orientation = NA #> stat_boxplot: na.rm = FALSE, orientation = NA #> position_dodge2  #>  #> from <ggbuilder::layer_spec>: #> $params #> $params$size #> [1] 0.75 #>  #>  #> $mapping_stat #> Aesthetic mapping:  #> <empty> #>  #> $mapping_geom #> Aesthetic mapping:  #> <empty> #>  #> $mapping_final #> Aesthetic mapping:  #> <empty> #>  #> $geom #> [1] \"boxplot\" df |>   ggplot(aes(x = condition, y = response, color = condition)) +   geom_boxplot() +   geom_label(     stat = \"boxplot\",      aes(y = stage(response, after_stat = ymax), label = after_stat(ymax))   ) df |>   ggplot(aes(x = condition, y = response, color = condition)) +   geom_boxplot() +   stat_(\"boxplot\", aes(y = response)) |>     geom_(\"label\", aes(y = ymax, label = ymax))"},{"path":"https://mjskay.github.io/ggbuilder/index.html","id":"changes-to-aesthetics-after-scaling","dir":"","previous_headings":"","what":"Changes to aesthetics after scaling","title":"A Data Flow Pipeline Approach to Building ggplot2 Layers","text":"{ggbuilder} also allows us equivalent ggplot2::after_scale() piping layer specification remap(). apply changes aesthetics scales applied:","code":"df |>   ggplot(aes(x = condition, y = response, color = condition)) +   geom_boxplot() +   stat_(\"boxplot\", aes(y = response)) |>     geom_(\"label\", aes(y = ymax, label = ymax)) |>     remap(aes(fill = colorspace::lighten(color, 0.9))) #> Warning: Duplicated aesthetics after name standardisation: NA #> Duplicated aesthetics after name standardisation: NA"},{"path":"https://mjskay.github.io/ggbuilder/index.html","id":"changes-to-data","dir":"","previous_headings":"","what":"Changes to data","title":"A Data Flow Pipeline Approach to Building ggplot2 Layers","text":"can also modify input data passing new data frame (function modifies data frame) plot_data() function top layer specification pipe:  {ggbuilder} also provides implementations {dplyr} {tidyr} verbs plot_data(), can pipe plot_data() functions instead awkwardly passing argument wrapped anonymous function (like ):  fact, transformations , may clearly communiate intent:","code":"df |>   ggplot(aes(x = condition, y = response, color = condition)) +   geom_boxplot() +   plot_data(\\(x) filter(x, condition %in% c(\"B\", \"C\"))) |>     stat_(\"boxplot\", aes(y = response)) |>     geom_(\"label\", aes(y = ymax, label = ymax)) |>     remap(aes(fill = colorspace::lighten(color, 0.9))) #> Warning: Duplicated aesthetics after name standardisation: NA #> Duplicated aesthetics after name standardisation: NA df |>   ggplot(aes(x = condition, y = response, color = condition)) +   geom_boxplot() +   plot_data() |>     filter(condition %in% c(\"B\", \"C\")) |>     stat_(\"boxplot\", aes(y = response)) |>     geom_(\"label\", aes(y = ymax, label = ymax)) |>     remap(aes(fill = colorspace::lighten(color, 0.9))) #> Warning: Duplicated aesthetics after name standardisation: NA #> Duplicated aesthetics after name standardisation: NA df |>   ggplot(aes(x = condition, y = response, color = condition)) +   geom_boxplot() +   plot_data() |>     filter(condition %in% c(\"B\", \"C\")) |>     group_by(condition) |>     slice_max(response) |>     geom_(\"label\", aes(label = response)) |>     remap(aes(fill = colorspace::lighten(color, 0.9)))"},{"path":"https://mjskay.github.io/ggbuilder/index.html","id":"feedback","dir":"","previous_headings":"","what":"Feedback","title":"A Data Flow Pipeline Approach to Building ggplot2 Layers","text":"package experimental! Feedback/issues welcome. sure ever go CRAN-wards, maybe solidifies future :).","code":""},{"path":"https://mjskay.github.io/ggbuilder/reference/geom_.html","id":null,"dir":"Reference","previous_headings":"","what":"Pipable ggplot2 geoms — geom_","title":"Pipable ggplot2 geoms — geom_","text":"ggplot2::layer() containing ggplot2::Geom; intended piping. wrapper around data passed data argument ggplot2::layer(). Pipe ggbuilder layer set data used layer.","code":""},{"path":"https://mjskay.github.io/ggbuilder/reference/geom_.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pipable ggplot2 geoms — geom_","text":"","code":"geom_(x, ...)  # S3 method for character geom_(x, ...)  # S3 method for ggbuilder_layer geom_(x, ...)  # S3 method for ggbuilder_layer_spec geom_(x, ...)  # S3 method for ggbuilder_plot_data geom_(x, ...)  plot_data(data = NULL)"},{"path":"https://mjskay.github.io/ggbuilder/reference/geom_.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pipable ggplot2 geoms — geom_","text":"x One : string: suffix geom_XXX function used create geom. ggbuilder layer, layer_spec, plot_data object representing earlier data data transformations used input geom. case, second argument suffix geom_XXX function used create geom. ... arguments passed geom's constructor. data One : NULL: Use data ggplot2() object. function: apply function data  ggplot2() object constructing data layer. data.frame(): use data frame data layer.","code":""},{"path":"https://mjskay.github.io/ggbuilder/reference/geom_.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pipable ggplot2 geoms — geom_","text":"ggbuilder  layer, also ggplot2::layer, can added ggplot() object piped ggbuilder functions. ggbuilder  plot_data, can piped ggbuilder functions. Can also piped dplyr tidyr verbs order construct new plot_data apply verbs data.","code":""},{"path":"https://mjskay.github.io/ggbuilder/reference/geom_.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Pipable ggplot2 geoms — geom_","text":"","code":"library(ggplot2)  set.seed(123456) df = data.frame(condition = c(\"A\", \"B\", \"C\"), response = round(rnorm(30, 1:3), 1))  df |>   ggplot(aes(x = condition, y = response, color = condition)) +   geom_boxplot() +   stat_(\"boxplot\", aes(y = response)) |>     geom_(\"label\", aes(y = ymax, label = ymax)) |>     remap(aes(fill = scales::alpha(color, 0.1))) +   theme_light() #> Warning: Duplicated aesthetics after name standardisation: NA #> Warning: Duplicated aesthetics after name standardisation: NA    library(ggplot2)  set.seed(123456) df = data.frame(condition = c(\"A\", \"B\", \"C\"), response = round(rnorm(30, 1:3), 1))  df |> ggplot(aes(x = condition, y = response, color = condition)) +   geom_boxplot() +   plot_data(\\(x) x[x$condition %in% c(\"B\", \"C\"),]) |>     stat_(\"boxplot\", aes(y = response)) |>     geom_(\"label\", aes(y = ymax, label = ymax))   df |>   ggplot(aes(x = condition, y = response, color = condition)) +   geom_boxplot() +   plot_data() |>     dplyr::filter(condition %in% c(\"B\", \"C\")) |>     dplyr::group_by(condition) |>     dplyr::slice_max(response) |>     geom_(\"label\", aes(label = response))"},{"path":"https://mjskay.github.io/ggbuilder/reference/ggbuilder-package.html","id":null,"dir":"Reference","previous_headings":"","what":"A Data Flow Pipeline Approach to Building ggplot2 Layers — ggbuilder-package","title":"A Data Flow Pipeline Approach to Building ggplot2 Layers — ggbuilder-package","text":"ggbuilder provides pipeline-based approach building individual ggplot2 layers, analogous dplyr-like data transformation pipelines.","code":""},{"path":"https://mjskay.github.io/ggbuilder/reference/ggbuilder-package.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"A Data Flow Pipeline Approach to Building ggplot2 Layers — ggbuilder-package","text":"alternative ggplot2 functions controlling aesthetic evaluation like stage(), ggbuilder allows use function piping (.e. |>) chain data transformations, ggplot2::Stats, ggplot2::Geoms together order construct layers. See geom_() stat_() construct chain geoms stats using ggbuilder See plot_data() add data transformations layer definition See remap() apply transformations aesthetics scales calculated (analogous ggplot2::after_scale()).","code":""},{"path":"https://mjskay.github.io/ggbuilder/reference/layer.html","id":null,"dir":"Reference","previous_headings":"","what":"Pipable ggplot2 layers — layer","title":"Pipable ggplot2 layers — layer","text":"ggplot2::layer built layer_spec intended piping. Typically constructed using geom_() stat_(), function.","code":""},{"path":"https://mjskay.github.io/ggbuilder/reference/layer.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pipable ggplot2 layers — layer","text":"","code":"new_layer(x)  # S3 method for ggbuilder_layer new_layer(x)  # S3 method for ggbuilder_layer_spec new_layer(x)"},{"path":"https://mjskay.github.io/ggbuilder/reference/layer.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pipable ggplot2 layers — layer","text":"x One : ggbuilder layer_spec ggbuilder layer","code":""},{"path":"https://mjskay.github.io/ggbuilder/reference/layer.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pipable ggplot2 layers — layer","text":"ggbuilder  layer, also ggplot2::layer, can added ggplot() object piped ggbuilder functions.","code":""},{"path":"https://mjskay.github.io/ggbuilder/reference/layer.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Pipable ggplot2 layers — layer","text":"","code":"# See geom_() or stat_() for examples; this function # should not usually be used directly."},{"path":"https://mjskay.github.io/ggbuilder/reference/layer_spec.html","id":null,"dir":"Reference","previous_headings":"","what":"Pipable ggplot2 layer specifications — layer_spec","title":"Pipable ggplot2 layer specifications — layer_spec","text":"specification ggplot2::layer built layer_spec intended piping. Typically constructed using geom_() stat_(), function.","code":""},{"path":"https://mjskay.github.io/ggbuilder/reference/layer_spec.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pipable ggplot2 layer specifications — layer_spec","text":"","code":"new_layer_spec()"},{"path":"https://mjskay.github.io/ggbuilder/reference/layer_spec.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pipable ggplot2 layer specifications — layer_spec","text":"ggbuilder  layer_spec representing layer constructed new_layer().","code":""},{"path":"https://mjskay.github.io/ggbuilder/reference/layer_spec.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Pipable ggplot2 layer specifications — layer_spec","text":"","code":"# See geom_() or stat_() for examples; this function # should not usually be used directly."},{"path":"https://mjskay.github.io/ggbuilder/reference/remap.html","id":null,"dir":"Reference","previous_headings":"","what":"Remap aesthetics after scales are applied — remap","title":"Remap aesthetics after scales are applied — remap","text":"Add end ggbuilder pipeline remap layer aesthetics scale functions applied. Analogous ggplot2::after_scale().","code":""},{"path":"https://mjskay.github.io/ggbuilder/reference/remap.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Remap aesthetics after scales are applied — remap","text":"","code":"remap(x, mapping)  # S3 method for ggbuilder_layer remap(x, mapping)  # S3 method for ggbuilder_layer_spec remap(x, mapping)"},{"path":"https://mjskay.github.io/ggbuilder/reference/remap.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Remap aesthetics after scales are applied — remap","text":"x One : ggbuilder layer ggbuilder layer_spec mapping Set aesthetic mappings created aes() aes_().","code":""},{"path":"https://mjskay.github.io/ggbuilder/reference/remap.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Remap aesthetics after scales are applied — remap","text":"ggbuilder  layer aesthetics provided mapping applied scales computed, using ggplot2::after_scale()","code":""},{"path":"https://mjskay.github.io/ggbuilder/reference/remap.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Remap aesthetics after scales are applied — remap","text":"","code":"library(ggplot2)  set.seed(123456) df = data.frame(condition = c(\"A\", \"B\", \"C\"), response = round(rnorm(30, 1:3), 1))  df |>   ggplot(aes(x = condition, y = response, color = condition)) +   geom_boxplot() +   stat_(\"boxplot\", aes(y = response)) |>     geom_(\"label\", aes(y = ymax, label = ymax)) |>     remap(aes(fill = scales::alpha(color, 0.1))) +   theme_light() #> Warning: Duplicated aesthetics after name standardisation: NA #> Warning: Duplicated aesthetics after name standardisation: NA"},{"path":"https://mjskay.github.io/ggbuilder/reference/stat_.html","id":null,"dir":"Reference","previous_headings":"","what":"Pipable ggplot2 stats — stat_","title":"Pipable ggplot2 stats — stat_","text":"ggplot2::stat intended piping.","code":""},{"path":"https://mjskay.github.io/ggbuilder/reference/stat_.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pipable ggplot2 stats — stat_","text":"x One : string: suffix stat_XXX function used create stat. ggbuilder layer, layer_spec, plot_data object representing earlier data data transformations used input stat. case, second argument suffix stat_XXX function used create stat. ... arguments passed stat's constructor.","code":""},{"path":"https://mjskay.github.io/ggbuilder/reference/stat_.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pipable ggplot2 stats — stat_","text":"ggbuilder  layer, also ggplot2::layer, can added ggplot() object piped ggbuilder functions.","code":""},{"path":"https://mjskay.github.io/ggbuilder/reference/stat_.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Pipable ggplot2 stats — stat_","text":"","code":"library(ggplot2)  set.seed(123456) df = data.frame(condition = c(\"A\", \"B\", \"C\"), response = round(rnorm(30, 1:3), 1))  df |>   ggplot(aes(x = condition, y = response, color = condition)) +   geom_boxplot() +   stat_(\"boxplot\", aes(y = response)) |>     geom_(\"label\", aes(y = ymax, label = ymax)) |>     remap(aes(fill = scales::alpha(color, 0.1))) +   theme_light() #> Warning: Duplicated aesthetics after name standardisation: NA #> Warning: Duplicated aesthetics after name standardisation: NA"}]
